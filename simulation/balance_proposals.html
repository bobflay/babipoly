<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Babipoly — Balance Proposals</title>
  <style>
    /* ─── Reset & Base ───────────────────────────────────────────── */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Arial', sans-serif;
      background: #F0F0F0;
      color: #222;
      padding: 30px 20px;
      line-height: 1.6;
    }

    /* ─── Cover ──────────────────────────────────────────────────── */
    .cover {
      max-width: 820px;
      margin: 0 auto 40px;
      text-align: center;
      padding: 60px 40px 40px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    }

    .cover img.logo {
      width: 260px;
      max-width: 80%;
      height: auto;
      filter: drop-shadow(0 4px 16px rgba(247,148,29,0.3));
    }

    .cover .label {
      font-size: 0.85rem;
      font-weight: bold;
      letter-spacing: 4px;
      text-transform: uppercase;
      color: #888;
      margin-top: 10px;
    }

    .cover .divider {
      width: 80px;
      height: 3px;
      background: #F7941D;
      margin: 20px auto;
      border-radius: 2px;
    }

    .cover h1 {
      font-size: 1.9rem;
      font-weight: 900;
      color: #1a1a2e;
      line-height: 1.2;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .cover p.subtitle {
      font-size: 1rem;
      color: #555;
      margin-top: 10px;
      font-style: italic;
    }

    .cover .sim-badge {
      display: inline-block;
      background: #1a1a2e;
      color: #F7941D;
      font-size: 0.78rem;
      font-weight: bold;
      letter-spacing: 2px;
      text-transform: uppercase;
      padding: 6px 16px;
      border-radius: 20px;
      margin-top: 20px;
    }

    /* ─── Main container ─────────────────────────────────────────── */
    .page { max-width: 820px; margin: 0 auto; }

    /* ─── Section ────────────────────────────────────────────────── */
    .section {
      background: #fff;
      border-radius: 10px;
      margin-bottom: 28px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
      overflow: hidden;
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 18px 24px;
      background: linear-gradient(135deg, #1a1a2e, #16213e);
      color: #fff;
    }

    .section-number {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      min-width: 40px;
      background: #F7941D;
      color: #fff;
      font-size: 1.1rem;
      font-weight: 900;
      border-radius: 50%;
    }

    .section-title {
      font-size: 1.2rem;
      font-weight: 900;
      letter-spacing: 1px;
      text-transform: uppercase;
    }

    .section-body { padding: 24px; }

    /* ─── Subsection ─────────────────────────────────────────────── */
    .subsection { margin-bottom: 24px; }
    .subsection:last-child { margin-bottom: 0; }

    .subsection-title {
      font-size: 0.9rem;
      font-weight: 900;
      color: #1a1a2e;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 12px;
      padding-bottom: 6px;
      border-bottom: 2px solid #F7941D;
      display: inline-block;
    }

    /* ─── Stat grid ──────────────────────────────────────────────── */
    .stat-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
      gap: 16px;
      margin-top: 8px;
    }

    .stat-card {
      border-radius: 8px;
      padding: 16px 14px;
      text-align: center;
    }
    .stat-card.red   { background: #fff0f0; border: 1px solid #ffcccc; }
    .stat-card.green { background: #f0fff4; border: 1px solid #b2dfdb; }
    .stat-card.amber { background: #fff8e1; border: 1px solid #ffe082; }
    .stat-card.blue  { background: #e8f4fd; border: 1px solid #90caf9; }

    .stat-card .value {
      font-size: 1.6rem;
      font-weight: 900;
      line-height: 1;
    }
    .stat-card.red   .value { color: #c62828; }
    .stat-card.green .value { color: #2e7d32; }
    .stat-card.amber .value { color: #e65100; }
    .stat-card.blue  .value { color: #1565c0; }

    .stat-card .stat-label {
      font-size: 0.75rem;
      font-weight: bold;
      color: #555;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: 6px;
    }

    /* ─── Completion bar table ───────────────────────────────────── */
    .completion-table { width: 100%; border-collapse: collapse; font-size: 0.88rem; }
    .completion-table th {
      background: #f5f5f5;
      padding: 8px 12px;
      text-align: left;
      font-weight: bold;
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.5px;
      color: #666;
      border-bottom: 2px solid #e0e0e0;
    }
    .completion-table td { padding: 10px 12px; border-bottom: 1px solid #f0f0f0; vertical-align: middle; }
    .completion-table tr:last-child td { border-bottom: none; }

    .bar-wrap {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .bar-track {
      flex: 1;
      height: 10px;
      background: #e0e0e0;
      border-radius: 5px;
      overflow: hidden;
    }
    .bar-fill {
      height: 100%;
      border-radius: 5px;
      transition: width 0.3s;
    }
    .bar-fill.bad    { background: #ef5350; }
    .bar-fill.warn   { background: #ffa726; }
    .bar-fill.good   { background: #66bb6a; }
    .bar-val { font-weight: bold; font-size: 0.85rem; min-width: 36px; text-align: right; }
    .bar-val.bad  { color: #c62828; }
    .bar-val.warn { color: #e65100; }
    .bar-val.good { color: #2e7d32; }

    .pill {
      display: inline-block;
      padding: 2px 10px;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: bold;
      letter-spacing: 0.3px;
    }
    .pill.red    { background: #ffcdd2; color: #b71c1c; }
    .pill.amber  { background: #ffe0b2; color: #e65100; }
    .pill.green  { background: #c8e6c9; color: #1b5e20; }

    /* ─── Before/After card ──────────────────────────────────────── */
    .change-card {
      border: 1px solid #e8e8e8;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 14px;
    }

    .change-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 16px;
      background: #f9f9f9;
      border-bottom: 1px solid #e8e8e8;
    }

    .change-card-header .fix-title {
      font-weight: 900;
      font-size: 0.95rem;
      color: #1a1a2e;
    }

    .priority-badge {
      display: inline-block;
      padding: 2px 10px;
      border-radius: 20px;
      font-size: 0.72rem;
      font-weight: bold;
      letter-spacing: 0.5px;
      text-transform: uppercase;
    }
    .priority-badge.p1 { background: #b71c1c; color: #fff; }
    .priority-badge.p2 { background: #e65100; color: #fff; }
    .priority-badge.p3 { background: #f9a825; color: #fff; }
    .priority-badge.p4 { background: #558b2f; color: #fff; }

    .change-card-body { padding: 14px 16px; }

    .ba-row {
      display: flex;
      gap: 12px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .ba-box {
      flex: 1;
      min-width: 120px;
      padding: 10px 14px;
      border-radius: 6px;
      text-align: center;
    }
    .ba-box.before { background: #fff3f3; border: 1px solid #ffcdd2; }
    .ba-box.after  { background: #f0fff4; border: 1px solid #c8e6c9; }

    .ba-box .ba-label {
      font-size: 0.7rem;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #888;
    }
    .ba-box.before .ba-label { color: #c62828; }
    .ba-box.after  .ba-label { color: #2e7d32; }

    .ba-box .ba-val {
      font-size: 1.15rem;
      font-weight: 900;
      margin-top: 3px;
    }
    .ba-box.before .ba-val { color: #c62828; }
    .ba-box.after  .ba-val { color: #2e7d32; }

    .arrow-center {
      display: flex;
      align-items: center;
      font-size: 1.3rem;
      color: #aaa;
      padding-top: 20px;
    }

    .change-desc {
      font-size: 0.88rem;
      color: #444;
      line-height: 1.6;
      margin-top: 6px;
    }

    .impact-tag {
      display: inline-block;
      margin-top: 8px;
      padding: 3px 10px;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: bold;
      background: #e8f4fd;
      color: #1565c0;
      border: 1px solid #90caf9;
    }

    /* ─── Comparison table ───────────────────────────────────────── */
    .compare-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.88rem;
    }

    .compare-table thead th {
      padding: 10px 14px;
      text-align: center;
      font-weight: bold;
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .compare-table thead th:first-child { text-align: left; }
    .compare-table thead th.col-current { background: #fafafa; color: #888; border-bottom: 3px solid #ccc; }
    .compare-table thead th.col-a       { background: #fff8e1; color: #e65100; border-bottom: 3px solid #ffa726; }
    .compare-table thead th.col-rec     { background: #e8f5e9; color: #2e7d32; border-bottom: 3px solid #66bb6a; }

    .compare-table tbody td {
      padding: 10px 14px;
      border-bottom: 1px solid #f0f0f0;
      vertical-align: middle;
    }
    .compare-table tbody tr:last-child td { border-bottom: none; }

    .compare-table tbody td:first-child {
      font-weight: bold;
      color: #333;
      background: #fafafa;
    }

    .compare-table tbody td.col-current { text-align: center; color: #666; background: #fafafa; }
    .compare-table tbody td.col-a       { text-align: center; color: #e65100; background: #fff8e1; font-weight: bold; }
    .compare-table tbody td.col-rec     { text-align: center; color: #2e7d32; background: #f1f8e9; font-weight: bold; }

    .compare-table tbody td.unchanged { color: #aaa; font-style: italic; font-weight: normal !important; }

    /* ─── ROI table ──────────────────────────────────────────────── */
    .roi-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.86rem;
    }
    .roi-table th {
      padding: 8px 12px;
      text-align: left;
      font-size: 0.75rem;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #666;
      background: #f5f5f5;
      border-bottom: 2px solid #e0e0e0;
    }
    .roi-table td {
      padding: 9px 12px;
      border-bottom: 1px solid #f0f0f0;
      vertical-align: middle;
    }
    .roi-table tr:last-child td { border-bottom: none; }

    .group-dot {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 8px;
      vertical-align: middle;
    }

    .roi-bar-wrap { display: flex; align-items: center; gap: 8px; }
    .roi-bar-track {
      width: 100px;
      height: 8px;
      background: #e0e0e0;
      border-radius: 4px;
      overflow: hidden;
    }
    .roi-bar-fill {
      height: 100%;
      border-radius: 4px;
    }
    .flag-cell {
      font-size: 0.78rem;
      color: #c62828;
      font-weight: bold;
    }

    /* ─── Flow diagram ───────────────────────────────────────────── */
    .flow-diagram {
      display: flex;
      align-items: stretch;
      gap: 0;
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid #e0e0e0;
      margin-top: 12px;
    }
    .flow-box {
      flex: 1;
      padding: 16px 12px;
      text-align: center;
    }
    .flow-box .flow-label {
      font-size: 0.72rem;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #888;
    }
    .flow-box .flow-val {
      font-size: 1.3rem;
      font-weight: 900;
      margin: 4px 0 2px;
    }
    .flow-box .flow-sub { font-size: 0.75rem; color: #666; }

    .flow-box.bank   { background: #e8f4fd; }
    .flow-box.bank   .flow-val { color: #1565c0; }
    .flow-box.rent   { background: #f3e5f5; }
    .flow-box.rent   .flow-val { color: #6a1b9a; }
    .flow-box.danger { background: #fff3e0; }
    .flow-box.danger .flow-val { color: #e65100; }

    .flow-arrow {
      display: flex;
      align-items: center;
      padding: 0 6px;
      background: #f5f5f5;
      font-size: 1.2rem;
      color: #aaa;
    }

    /* ─── Note box ───────────────────────────────────────────────── */
    .note-box {
      border-radius: 8px;
      padding: 14px 18px;
      font-size: 0.88rem;
      line-height: 1.6;
      margin-top: 12px;
    }
    .note-box.warn  { background: #fff8e1; border-left: 4px solid #ffa726; color: #5d3a00; }
    .note-box.info  { background: #e8f4fd; border-left: 4px solid #42a5f5; color: #0d2c4d; }
    .note-box.good  { background: #f1f8e9; border-left: 4px solid #66bb6a; color: #1b3a10; }
    .note-box.error { background: #ffebee; border-left: 4px solid #ef5350; color: #4a0000; }
    .note-box strong { font-weight: 900; }

    /* ─── Steps list ─────────────────────────────────────────────── */
    .steps { list-style: none; padding: 0; counter-reset: step; }
    .steps li {
      display: flex;
      gap: 14px;
      padding: 10px 0;
      border-bottom: 1px solid #f0f0f0;
      counter-increment: step;
      align-items: flex-start;
    }
    .steps li:last-child { border-bottom: none; }
    .steps li .step-num {
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 28px;
      height: 28px;
      background: #F7941D;
      color: #fff;
      font-size: 0.85rem;
      font-weight: 900;
      border-radius: 50%;
      margin-top: 2px;
    }
    .steps li .step-body { flex: 1; }
    .steps li .step-title { font-weight: 900; color: #1a1a2e; font-size: 0.93rem; }
    .steps li .step-desc { font-size: 0.87rem; color: #555; margin-top: 2px; }

    /* ─── Print ──────────────────────────────────────────────────── */
    .print-btn {
      display: block;
      margin: 0 auto 36px;
      padding: 12px 32px;
      background: #F7941D;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      letter-spacing: 1px;
    }
    .print-btn:hover { background: #D97706; }

    @media print {
      body { background: white; padding: 0; }
      .print-btn { display: none; }
      .section { box-shadow: none; break-inside: avoid; }
    }

    @media (max-width: 540px) {
      .stat-grid { grid-template-columns: 1fr 1fr; }
      .ba-row { flex-direction: column; }
      .arrow-center { display: none; }
    }
  </style>
</head>
<body>

<!-- ═══════════════════════════════════════════ COVER ═══ -->
<div class="cover">
  <img class="logo" src="../rfq/logo.jpg" alt="Babipoly">
  <p class="label">Simulation Study</p>
  <div class="divider"></div>
  <h1>Balance Proposals</h1>
  <p class="subtitle">Game mechanics analysis based on 4,000 simulated games<br>across 2, 4, 6 and 8 player configurations</p>
  <div class="sim-badge">Monte Carlo Simulation &mdash; babipoly_sim.py</div>
</div>

<button class="print-btn" onclick="window.print()">Print / Save as PDF</button>

<div class="page">

  <!-- ═══════════════════ SECTION 1 — KEY FINDINGS ═══════════════ -->
  <div class="section">
    <div class="section-header">
      <div class="section-number">1</div>
      <div class="section-title">Key Findings from Simulation</div>
    </div>
    <div class="section-body">

      <div class="subsection">
        <div class="subsection-title">Game Completion Rate (current rules, 250,000 FCFA start)</div>
        <table class="completion-table">
          <thead>
            <tr>
              <th>Players</th>
              <th>Completion Rate</th>
              <th>Median (finished games)</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>2 players</strong></td>
              <td>
                <div class="bar-wrap">
                  <div class="bar-track"><div class="bar-fill good" style="width:72%"></div></div>
                  <span class="bar-val good">72%</span>
                </div>
              </td>
              <td>~106 rounds</td>
              <td><span class="pill green">Acceptable</span></td>
            </tr>
            <tr>
              <td><strong>4 players</strong></td>
              <td>
                <div class="bar-wrap">
                  <div class="bar-track"><div class="bar-fill warn" style="width:25%"></div></div>
                  <span class="bar-val warn">25%</span>
                </div>
              </td>
              <td>~368 rounds</td>
              <td><span class="pill amber">Mostly timeout</span></td>
            </tr>
            <tr>
              <td><strong>6 players</strong></td>
              <td>
                <div class="bar-wrap">
                  <div class="bar-track"><div class="bar-fill bad" style="width:12%"></div></div>
                  <span class="bar-val bad">12%</span>
                </div>
              </td>
              <td>~735 rounds</td>
              <td><span class="pill red">Games never end</span></td>
            </tr>
            <tr>
              <td><strong>8 players</strong></td>
              <td>
                <div class="bar-wrap">
                  <div class="bar-track"><div class="bar-fill bad" style="width:12%"></div></div>
                  <span class="bar-val bad">12%</span>
                </div>
              </td>
              <td>~602 rounds</td>
              <td><span class="pill red">Games never end</span></td>
            </tr>
          </tbody>
        </table>
        <div class="note-box warn" style="margin-top:14px">
          <strong>Target:</strong> &ge;80% of games should finish naturally within 60&ndash;150 rounds.
          Currently only 2-player games meet this baseline.
        </div>
      </div>

      <div class="subsection">
        <div class="subsection-title">Root Cause: Bank Injects More Than Rent Extracts</div>
        <p style="font-size:0.88rem;color:#444;margin-bottom:10px">
          In a typical 4-player game the bank continuously pumps money into the game via GO rewards
          at a rate that exceeds all rent collected. This keeps every player solvent indefinitely.
        </p>
        <div class="flow-diagram">
          <div class="flow-box bank">
            <div class="flow-label">GO Rewards (bank &rarr; players)</div>
            <div class="flow-val">~60M FCFA</div>
            <div class="flow-sub">per game &mdash; bank injection</div>
          </div>
          <div class="flow-arrow">vs</div>
          <div class="flow-box rent">
            <div class="flow-label">Total Rent (player &rarr; player)</div>
            <div class="flow-val">~44M FCFA</div>
            <div class="flow-sub">per game &mdash; redistribution</div>
          </div>
          <div class="flow-arrow">=</div>
          <div class="flow-box danger">
            <div class="flow-label">Net surplus per game</div>
            <div class="flow-val">+16M FCFA</div>
            <div class="flow-sub">bank keeps players liquid</div>
          </div>
        </div>
        <div class="note-box error" style="margin-top:14px">
          <strong>Core problem:</strong> The maximum possible rent a player can pay in a single
          landing (58,000 FCFA — Grand Bassam hotel) represents only <strong>23%</strong> of
          starting money. In classic Monopoly, the equivalent is <strong>133%</strong> of starting
          money. Nobody can be bankrupted by a single bad landing.
        </div>
      </div>

      <div class="subsection">
        <div class="subsection-title">Quick Stats</div>
        <div class="stat-grid">
          <div class="stat-card amber">
            <div class="value">23%</div>
            <div class="stat-label">Max rent / starting money</div>
          </div>
          <div class="stat-card red">
            <div class="value">4.0%</div>
            <div class="stat-label">GO reward / starting money</div>
          </div>
          <div class="stat-card red">
            <div class="value">75%</div>
            <div class="stat-label">4-player games that time out</div>
          </div>
          <div class="stat-card green">
            <div class="value">72%</div>
            <div class="stat-label">2-player completion rate</div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- ═══════════════════ SECTION 2 — PROPERTY ROI ═══════════════ -->
  <div class="section">
    <div class="section-header">
      <div class="section-number">2</div>
      <div class="section-title">Property Group ROI Analysis</div>
    </div>
    <div class="section-body">
      <p style="font-size:0.88rem;color:#555;margin-bottom:14px">
        ROI = average hotel rent &divide; (average purchase price + 5 &times; house cost).
        Higher ROI means the group pays back development faster.
        Groups below 80% ROI or with structural anomalies are flagged.
      </p>
      <table class="roi-table">
        <thead>
          <tr>
            <th>Group</th>
            <th>Properties</th>
            <th>Avg Price</th>
            <th>House Cost</th>
            <th>Avg Hotel Rent</th>
            <th>ROI</th>
            <th>Issue</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><span class="group-dot" style="background:#F5C518"></span><strong>Yellow</strong></td>
            <td>2</td>
            <td>3,000</td>
            <td>1,000</td>
            <td>10,000</td>
            <td>
              <div class="roi-bar-wrap">
                <div class="roi-bar-track"><div class="roi-bar-fill" style="width:100%;background:#66bb6a"></div></div>
                <span>125%</span>
              </div>
            </td>
            <td class="flag-cell">Hotel rent = GO reward</td>
          </tr>
          <tr>
            <td><span class="group-dot" style="background:#CC0000"></span><strong>Red</strong></td>
            <td>3</td>
            <td>5,333</td>
            <td>2,000</td>
            <td>16,000</td>
            <td>
              <div class="roi-bar-wrap">
                <div class="roi-bar-track"><div class="roi-bar-fill" style="width:100%;background:#66bb6a"></div></div>
                <span>104%</span>
              </div>
            </td>
            <td style="color:#aaa">—</td>
          </tr>
          <tr>
            <td><span class="group-dot" style="background:#F7941D"></span><strong>Orange</strong></td>
            <td>3</td>
            <td>6,667</td>
            <td>3,000</td>
            <td>22,667</td>
            <td>
              <div class="roi-bar-wrap">
                <div class="roi-bar-track"><div class="roi-bar-fill" style="width:100%;background:#66bb6a"></div></div>
                <span>105%</span>
              </div>
            </td>
            <td style="color:#aaa">—</td>
          </tr>
          <tr>
            <td><span class="group-dot" style="background:#8B4513"></span><strong>Brown</strong></td>
            <td>2</td>
            <td>9,500</td>
            <td>4,000</td>
            <td>29,500</td>
            <td>
              <div class="roi-bar-wrap">
                <div class="roi-bar-track"><div class="roi-bar-fill" style="width:100%;background:#66bb6a"></div></div>
                <span>100%</span>
              </div>
            </td>
            <td style="color:#aaa">—</td>
          </tr>
          <tr>
            <td><span class="group-dot" style="background:#00A651"></span><strong>Green</strong></td>
            <td>3</td>
            <td>11,333</td>
            <td>5,000</td>
            <td>34,000</td>
            <td>
              <div class="roi-bar-wrap">
                <div class="roi-bar-track"><div class="roi-bar-fill" style="width:93%;background:#66bb6a"></div></div>
                <span>94%</span>
              </div>
            </td>
            <td style="color:#aaa">—</td>
          </tr>
          <tr>
            <td><span class="group-dot" style="background:#29ABE2"></span><strong>Light Blue</strong></td>
            <td>3</td>
            <td>13,333</td>
            <td>6,000</td>
            <td>40,333</td>
            <td>
              <div class="roi-bar-wrap">
                <div class="roi-bar-track"><div class="roi-bar-fill" style="width:93%;background:#66bb6a"></div></div>
                <span>93%</span>
              </div>
            </td>
            <td style="color:#aaa">—</td>
          </tr>
          <tr style="background:#fff8f8">
            <td><span class="group-dot" style="background:#1B1464"></span><strong>Dark Blue</strong></td>
            <td>3</td>
            <td>12,000</td>
            <td>7,000</td>
            <td>36,000</td>
            <td>
              <div class="roi-bar-wrap">
                <div class="roi-bar-track"><div class="roi-bar-fill" style="width:77%;background:#ffa726"></div></div>
                <span>77%</span>
              </div>
            </td>
            <td class="flag-cell">Yamoussoukro anomaly</td>
          </tr>
          <tr>
            <td><span class="group-dot" style="background:#662D91"></span><strong>Purple</strong></td>
            <td>2</td>
            <td>18,750</td>
            <td>10,000</td>
            <td>54,000</td>
            <td>
              <div class="roi-bar-wrap">
                <div class="roi-bar-track"><div class="roi-bar-fill" style="width:79%;background:#ffa726"></div></div>
                <span>79%</span>
              </div>
            </td>
            <td style="color:#aaa">—</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ═══════════════════ SECTION 3 — PROPOSED FIXES ═══════════ -->
  <div class="section">
    <div class="section-header">
      <div class="section-number">3</div>
      <div class="section-title">Proposed Fixes (Priority Order)</div>
    </div>
    <div class="section-body">

      <!-- Fix 1: GO reward -->
      <div class="change-card">
        <div class="change-card-header">
          <span class="fix-title">Fix 1 &mdash; Reduce GO Reward</span>
          <span class="priority-badge p1">Priority 1 — Critical</span>
        </div>
        <div class="change-card-body">
          <p class="change-desc">
            The GO reward is the primary driver of infinite games. Every round the bank injects
            10,000 FCFA per player, which collectively outpaces all rent income. Cutting it in
            half immediately reduces bank-side money supply.
          </p>
          <div class="ba-row">
            <div class="ba-box before">
              <div class="ba-label">Current</div>
              <div class="ba-val">10,000 FCFA</div>
            </div>
            <div class="arrow-center">&#8594;</div>
            <div class="ba-box after">
              <div class="ba-label">Proposed</div>
              <div class="ba-val">5,000 FCFA</div>
            </div>
          </div>
          <div class="impact-tag">Impact: reduces bank injection from ~60M → ~30M FCFA per 4P game</div>
        </div>
      </div>

      <!-- Fix 2: Yamoussoukro -->
      <div class="change-card">
        <div class="change-card-header">
          <span class="fix-title">Fix 2 &mdash; Yamoussoukro Anomaly (pos 31, Dark Blue)</span>
          <span class="priority-badge p1">Priority 1 — Critical</span>
        </div>
        <div class="change-card-body">
          <p class="change-desc">
            Yamoussoukro's house cost (7,000 FCFA) <em>exceeds</em> its purchase price (5,000 FCFA).
            A complete hotel development costs 35,000 FCFA but the hotel only generates 19,000 FCFA
            in rent — a negative ROI. No player will ever develop this property, making the Dark Blue
            group partially unplayable.
          </p>
          <div class="ba-row">
            <div class="ba-box before">
              <div class="ba-label">House cost (current)</div>
              <div class="ba-val">7,000 FCFA</div>
            </div>
            <div class="arrow-center">&#8594;</div>
            <div class="ba-box after">
              <div class="ba-label">House cost (proposed)</div>
              <div class="ba-val">4,000 FCFA</div>
            </div>
          </div>
          <p style="font-size:0.82rem;color:#888;margin-top:10px;font-style:italic">
            Alternative: raise Yamoussoukro's purchase price from 5,000 → 12,000 FCFA to match its
            group peers (Sassandra 15,000 / San Pedro 16,000).
          </p>
          <div class="impact-tag">Impact: Dark Blue group becomes developable and competitive</div>
        </div>
      </div>

      <!-- Fix 3: Starting money -->
      <div class="change-card">
        <div class="change-card-header">
          <span class="fix-title">Fix 3 &mdash; Reduce Starting Money</span>
          <span class="priority-badge p2">Priority 2 — High</span>
        </div>
        <div class="change-card-body">
          <p class="change-desc">
            With 250,000 FCFA, even the most expensive hotel rent (58,000 FCFA) leaves a player
            with 192,000 FCFA — far from bankruptcy. Reducing starting money makes each rent
            landing proportionally more threatening and compresses the early game meaningfully.
            <strong>Combine with Fix 1 (GO reduction) for full effect.</strong>
          </p>
          <div class="ba-row">
            <div class="ba-box before">
              <div class="ba-label">Current</div>
              <div class="ba-val">250,000 FCFA</div>
            </div>
            <div class="arrow-center">&#8594;</div>
            <div class="ba-box after">
              <div class="ba-label">Proposed</div>
              <div class="ba-val">60,000 FCFA</div>
            </div>
          </div>
          <div class="note-box info" style="margin-top:12px">
            Starting money alone does not fix infinite games. Even at 20,000 FCFA, 4-player games
            only complete 46% of the time because GO rewards keep refilling wallets.
            <strong>Fix 1 must accompany this change.</strong>
          </div>
          <div class="impact-tag">Impact: properties cost a meaningful fraction of player wealth</div>
        </div>
      </div>

      <!-- Fix 4: Yellow rents -->
      <div class="change-card">
        <div class="change-card-header">
          <span class="fix-title">Fix 4 &mdash; Raise Yellow Group Rents</span>
          <span class="priority-badge p3">Priority 3 — Medium</span>
        </div>
        <div class="change-card-body">
          <p class="change-desc">
            Yellow (Plateau & Cocody) hotel rent is 10,000 FCFA — exactly equal to the GO reward.
            Landing on a fully-developed Yellow group is no worse than passing GO, which removes
            all threat from the first color group on the board.
          </p>
          <div class="ba-row">
            <div class="ba-box before">
              <div class="ba-label">Hotel rent (current)</div>
              <div class="ba-val">10,000 FCFA</div>
            </div>
            <div class="arrow-center">&#8594;</div>
            <div class="ba-box after">
              <div class="ba-label">Hotel rent (proposed)</div>
              <div class="ba-val">18,000 FCFA</div>
            </div>
          </div>
          <div class="impact-tag">Impact: Yellow monopoly becomes a real early-game threat</div>
        </div>
      </div>

      <!-- Fix 5: Taxe Choco -->
      <div class="change-card">
        <div class="change-card-header">
          <span class="fix-title">Fix 5 &mdash; Increase Taxe Choco</span>
          <span class="priority-badge p4">Priority 4 — Nice to Have</span>
        </div>
        <div class="change-card-body">
          <p class="change-desc">
            Taxe Choco (pos 38) currently charges 5,000 FCFA — just half of one GO reward pass.
            Raising it scales the tax to be proportionally meaningful even after starting money
            is reduced.
          </p>
          <div class="ba-row">
            <div class="ba-box before">
              <div class="ba-label">Current tax</div>
              <div class="ba-val">5,000 FCFA</div>
            </div>
            <div class="arrow-center">&#8594;</div>
            <div class="ba-box after">
              <div class="ba-label">Proposed tax</div>
              <div class="ba-val">8,000 FCFA</div>
            </div>
          </div>
          <div class="impact-tag">Impact: minor drain that helps reduce excess cash in mid-game</div>
        </div>
      </div>

    </div>
  </div>

  <!-- ═══════════════════ SECTION 4 — PARAMETER TABLE ═══════════ -->
  <div class="section">
    <div class="section-header">
      <div class="section-number">4</div>
      <div class="section-title">Complete Parameter Comparison Table</div>
    </div>
    <div class="section-body">
      <table class="compare-table">
        <thead>
          <tr>
            <th>Parameter</th>
            <th class="col-current">Current Rules</th>
            <th class="col-a">Option A<br><small>(minimal)</small></th>
            <th class="col-rec">Option C<br><small>(recommended)</small></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Starting money</td>
            <td class="col-current">250,000 FCFA</td>
            <td class="col-a">40,000 FCFA</td>
            <td class="col-rec">60,000 FCFA</td>
          </tr>
          <tr>
            <td>GO reward</td>
            <td class="col-current">10,000 FCFA</td>
            <td class="col-a">4,000 FCFA</td>
            <td class="col-rec">5,000 FCFA</td>
          </tr>
          <tr>
            <td>Rent multiplier</td>
            <td class="col-current">1×</td>
            <td class="col-a">1×</td>
            <td class="col-rec">1.5×</td>
          </tr>
          <tr>
            <td>Jail bail</td>
            <td class="col-current">5,000 FCFA</td>
            <td class="col-a">1,000 FCFA</td>
            <td class="col-rec">1,500 FCFA</td>
          </tr>
          <tr>
            <td>Yellow hotel rent</td>
            <td class="col-current">10,000 FCFA</td>
            <td class="col-a">10,000 FCFA</td>
            <td class="col-rec">18,000 FCFA</td>
          </tr>
          <tr>
            <td>Yamoussoukro house cost</td>
            <td class="col-current">7,000 FCFA</td>
            <td class="col-a">7,000 FCFA</td>
            <td class="col-rec">4,000 FCFA</td>
          </tr>
          <tr>
            <td>Dark Blue house cost</td>
            <td class="col-current">7,000 FCFA</td>
            <td class="col-a">7,000 FCFA</td>
            <td class="col-rec">5,000 FCFA</td>
          </tr>
          <tr>
            <td>Taxe Choco</td>
            <td class="col-current">5,000 FCFA</td>
            <td class="col-a">1,000 FCFA</td>
            <td class="col-rec">8,000 FCFA</td>
          </tr>
          <tr>
            <td>Utility rent (1 owned)</td>
            <td class="col-current">4× dice</td>
            <td class="col-a unchanged">unchanged</td>
            <td class="col-rec">2,000 FCFA flat</td>
          </tr>
          <tr>
            <td>Utility rent (2 owned)</td>
            <td class="col-current">10× dice</td>
            <td class="col-a unchanged">unchanged</td>
            <td class="col-rec">8,000 FCFA flat</td>
          </tr>
        </tbody>
      </table>

      <div class="note-box good" style="margin-top:18px">
        <strong>Option C rationale:</strong> The 1.5× rent multiplier means all existing property
        cards and printed values can keep their FCFA amounts on the physical board — only the
        actual charged rent increases. Alternatively, reprint the rent values on the cards.
        The flat utility rents replace the dice-multiplier mechanic which currently produces
        negligible amounts (avg 28&ndash;70 FCFA per landing).
      </div>
    </div>
  </div>

  <!-- ═══════════════════ SECTION 5 — TESTING PLAN ════════════ -->
  <div class="section">
    <div class="section-header">
      <div class="section-number">5</div>
      <div class="section-title">How to Test These Changes</div>
    </div>
    <div class="section-body">
      <ul class="steps">
        <li>
          <div class="step-num">1</div>
          <div class="step-body">
            <div class="step-title">Edit constants in babipoly_sim.py</div>
            <div class="step-desc">Change <code>STARTING_MONEY</code> and <code>GO_REWARD</code> at the top of the file. For rent multiplier, search for the rent arrays and multiply each value.</div>
          </div>
        </li>
        <li>
          <div class="step-num">2</div>
          <div class="step-body">
            <div class="step-title">Run the main simulator</div>
            <div class="step-desc"><code>python babipoly_sim.py --games 500 --seed 42</code><br>Target: &ge;80% completion rate and median 60&ndash;150 rounds for all player counts.</div>
          </div>
        </li>
        <li>
          <div class="step-num">3</div>
          <div class="step-body">
            <div class="step-title">Run the multi-scenario analysis</div>
            <div class="step-desc"><code>python run_analysis.py --games 200</code><br>Compares 5 different starting money levels simultaneously and ranks the best configuration.</div>
          </div>
        </li>
        <li>
          <div class="step-num">4</div>
          <div class="step-body">
            <div class="step-title">Check completion rate &amp; first-player bias</div>
            <div class="step-desc">The output shows win rate by player order. First player should win within ±5% of the expected rate (50% for 2P, 25% for 4P, etc.) in completed games.</div>
          </div>
        </li>
        <li>
          <div class="step-num">5</div>
          <div class="step-body">
            <div class="step-title">Playtest with human players</div>
            <div class="step-desc">Use the simulator findings as a starting point. Human behaviour (negotiating, strategic mortgaging, refusing to buy) differs from the AI and may produce different pacing.</div>
          </div>
        </li>
      </ul>
    </div>
  </div>

</div><!-- end .page -->

<div style="max-width:820px;margin:0 auto 60px;text-align:center;font-size:0.78rem;color:#aaa;padding-top:16px">
  Generated from Monte Carlo simulation &mdash; babipoly_sim.py &amp; run_analysis.py
  &mdash; 4,000 games simulated across 5 scenarios &times; 4 player counts
</div>

</body>
</html>
